#!/usr/bin/env bash

config_dir=$1
ln_params=$2

[ -z $config_dir ] && echo "Must supply config directory" && exit

find $config_dir -type d -not -wholename '*/.git*' |
	sed "s|$config_dir|mkdir -pv $HOME|"

eval $(find $config_dir -type f -not -wholename '*/.git/*' |
	sed "s|$config_dir|ln -sv $ln_params {$config_dir,$HOME}|" |
	sed "s/$/;/")
