# mailbox
set folder = ~/.mail
set smtp_url = "smtps://b@bartol.dev@smtp.fastmail.com:465"
set smtp_pass = "`gpg --batch -q --decrypt ~/.mutt/password.gpg`"

set mbox_type = Maildir
set spoolfile = "+INBOX"
set record = "+Sent"
set trash = "+Trash"
set postponed = "+Drafts"
mailboxes =INBOX =Sent =Trash =Drafts =Archive =Spam

# identity
set from = "b@bartol.dev"
set realname = "Bartol Deak"

# aliases
set alias_file = ~/.mutt/aliases
source $alias_file

# signature
set signature = ~/.mutt/signature

# history
set history = 100
set save_history = 100
set history_file = ~/.mutt/history
set history_remove_dups

bind editor \Cp history-up
bind editor \Cn history-down

# message composition
set forward_format = "Fwd: %s"
set fast_reply
set include

# list
set sort = reverse-threads
set index_format = "%4C %Z %D %-15.15F (%4c) %s"
set date_format = "%H:%M %d/%m/%Y"
unset mark_old

# pager
set pager_stop
unset markers

# html emails
auto_view text/html
alternative_order text/plain text/html
set mailcap_path = ~/.mutt/mailcap

# sync
macro index S "<shell-escape>mbsync -a<enter>" "sync imap"

# archive
macro index,pager A "<save-message>=Archive<enter>" "archive mail"

# change folder
bind index <space> noop
macro index <space>i "<change-folder>=INBOX<enter>" "go to inbox"
macro index <space>s "<change-folder>=Sent<enter>" "go to sent"
macro index <space>t "<change-folder>=Trash<enter>" "go to trash"
macro index <space>d "<change-folder>=Drafts<enter>" "go to drafts"
macro index <space>a "<change-folder>=Archive<enter>" "go to archive"
set sleep_time = 0

# vi bindings
bind pager k previous-line
bind pager j next-line

bind index,pager \Cf next-page
bind index,pager \Cb previous-page
bind index,pager \Cd half-down
bind index,pager \Cu half-up
