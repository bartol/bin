# mailbox
set folder = ~/.mail
set mbox_type = Maildir
set spoolfile = "+INBOX"
set record = "+Sent"
set trash = "+Trash"
set postponed = "+Drafts"
mailboxes =INBOX =Sent =Trash =Drafts =Archive =Spam

# smtp
set smtp_url = "smtps://b@bartol.dev@smtp.fastmail.com:465"
set smtp_pass = "`gpg --batch -q --decrypt ~/.mutt/password.gpg`"

# identity
set from = "b@bartol.dev"
set realname = "Bartol Deak"

# aliases
set alias_file = ~/.mutt/aliases
source $alias_file

# signature
set signature = ~/.mutt/signature

# history
set history = 100
set save_history = 100
set history_file = ~/.mutt/history
set history_remove_dups
bind editor \Cp history-up
bind editor \Cn history-down

# vi bindings
bind index k previous-entry
bind index j next-entry
bind pager k previous-line
bind pager j next-line
bind index,pager \Cf next-page
bind index,pager \Cb previous-page
bind index,pager \Cd half-down
bind index,pager \Cu half-up

# mail composition
set forward_format = "Fwd: %s"
set fast_reply
set include

# list
set sort = reverse-threads
set sort_aux = last-date-received
set index_format = "%4C %Z %-6@date@ %-15.15F (%4c) %s"
index-format-hook  date  "~d<1d"    "%[%H:%M]"
index-format-hook  date  "~d<1m"    "%[%a %d]"
index-format-hook  date  "~d<1y"    "%[%b %d]"
index-format-hook  date  "~A"       "%[%m/%y]"
set delete
unset mark_old


# pager
set pager_stop
unset markers

# html mail
auto_view text/html
alternative_order text/plain text/html

# sync
macro index S "<shell-escape>mbsync -a<enter>" "sync imap"

# archive
macro index,pager A "<save-message>=Archive<enter>" "archive mail"

# change folder
bind index <space> noop
macro index <space>i "<change-folder>=INBOX<enter>" "go to inbox"
macro index <space>s "<change-folder>=Sent<enter>" "go to sent"
macro index <space>t "<change-folder>=Trash<enter>" "go to trash"
macro index <space>d "<change-folder>=Drafts<enter>" "go to drafts"
macro index <space>a "<change-folder>=Archive<enter>" "go to archive"
set sleep_time = 0
